<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Lavender Spacecraft🪐✨ Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Lavender Spacecraft🪐✨ Blog Atom Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-141789564-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script><title data-react-helmet="true">300. 最长递增子序列 | Lavender Spacecraft🪐✨</title><meta data-react-helmet="true" property="og:url" content="https://blog-test-lavender.netlify.app//docs/Dynamic Programming/leetcode300"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="300. 最长递增子序列 | Lavender Spacecraft🪐✨"><meta data-react-helmet="true" name="description" content="LeetCode 300. 最长递增子序列"><meta data-react-helmet="true" property="og:description" content="LeetCode 300. 最长递增子序列"><link data-react-helmet="true" rel="shortcut icon" href="/img/logos/brain_2.svg"><link data-react-helmet="true" rel="canonical" href="https://blog-test-lavender.netlify.app//docs/Dynamic Programming/leetcode300"><link data-react-helmet="true" rel="alternate" href="https://blog-test-lavender.netlify.app//docs/Dynamic Programming/leetcode300" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://blog-test-lavender.netlify.app//docs/Dynamic Programming/leetcode300" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.d861813f.css">
<link rel="preload" href="/assets/js/runtime~main.870f550b.js" as="script">
<link rel="preload" href="/assets/js/main.ab0c5401.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/my_comic-removebg.PNG" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/my_comic-removebg.PNG" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Home🌟</strong></a><a class="navbar__item navbar__link" href="/blog">Blog</a><a class="navbar__item navbar__link" docspluginid="default" activesidebarclassname="navbar__link--active" href="/docs/intro">Notes</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/shuoO-24" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT" style="margin-left:2px">🌙</span></div><div class="react-toggle-track-x"><span class="toggle_71bT" style="margin-left:1px">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/my_comic-removebg.PNG" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/my_comic-removebg.PNG" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">Home🌟</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/shuoO-24" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li><li class="menu__list-item"><a class="menu__link" docspluginid="default" activesidebarclassname="navbar__link--active" href="/docs/intro">Notes</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/"><img src="/img/my_comic-removebg.PNG" alt="My Site Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/my_comic-removebg.PNG" alt="My Site Logo" class="themedImage_1VuW themedImage--dark_hz6m"><strong>Home🌟</strong></a><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/intro">你好呀</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">UCB 61C: Great Ideas in Computer Architecture</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Computer Architecture/61cNumber">Number Representation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Computer Architecture/61c_intro">课程大纲</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Dynamic Programming</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Dynamic Programming/algointro">Hello Algorithm</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Dynamic Programming/leetcode64">64. Minimum Path Sum — Medium</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Dynamic Programming/leetcode91">91. Decode Ways — Medium</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Dynamic Programming/leetcode96">96. Unique Binary Search Trees — Medium</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/Dynamic Programming/leetcode300">300. 最长递增子序列</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">SQL Notes</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/SQL Notes/sqlintro">SQL Overview</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/SQL Notes/sqlorder">Ordering</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/SQL Notes/sqlnorm">Normalization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/SQL Notes/sqlgroup">Grouping</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/SQL Notes/sqlconcepts">Central Concepts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/SQL Notes/sqljoin">SQL Joining</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/SQL Notes/sqlstructure-example">Structural</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Docusaurus References</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Markdown/MDX</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/Markdown_MDX/mdbasics">Basic Syntax</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/Markdown_MDX/codeblock">Add Code blocks</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/Markdown_MDX/frontmatter">Docs Front Matter</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/Markdown_MDX/addtabs">A Super Cool Feature -- Tabs</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/Markdown_MDX/admonition">Use Admonitions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/Markdown_MDX/toc">添加目录 Inline TOC</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Infima Powered</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/Infima Powered/infima">Alert</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/Infima Powered/navbar">Nav bar usage</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">JSX Required Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/JSX_Required/mdFooter">Add Footer</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/JSX_Required/blogsetup">Start Blogging</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/JSX_Required/translate_i18n">Translate your site</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/JSX_Required/Untitled">Untitled</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/JSX_Required/sidebar">Sidebar</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/embed">Embed images and files</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Plugins</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/Plugins/idealimage">📦 plugin-ideal-image</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Docusaurus_References/tips">Syntax</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Multivarable Calculus</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Multivariable Calculus/Change of variables">Changing variables in double integrals</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Multivariable Calculus/multcalc_cheatsheet">Cheatsheets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Multivariable Calculus/calculators">Multivariable Calculus Calculators</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Multivariable Calculus/calflux">More about Surface Integral</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Multivariable Calculus/calctangent-plane">Tangent Plane To Level Surface</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Multivariable Calculus/calctriple-integral">Triple Integral Examples</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/Multivariable Calculus/vectorfield">Vector Field</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">300. 最长递增子序列</h1></header><div class="markdown"><p><em>LeetCode <a href="https://leetcode-cn.com/problems/longest-increasing-subsequence/" target="_blank" rel="noopener noreferrer">300. 最长递增子序列</a></em></p><p>给你一个整数数组 nums ，找到其中最长严格递增子序列的长度。
子序列是由数组派生而来的序列，删除（或不删除）数组中的元素而不改变其余元素的顺序。例如，[3,6,2,7] 是数组 [0,3,1,6,2,2,7] 的子序列。</p><p>示例 1：
输入：nums = [10,9,2,5,3,7,101,18]
输出：4
解释：最长递增子序列是 [2,3,7,101]，因此长度为 4 。</p><p>示例 2：
输入：nums = [0,1,0,3,2,3]
输出：4</p><p>示例 3：
输入：nums = [7,7,7,7,7,7,7]
输出：1</p><p>提示：
1 &lt;= nums.length &lt;= 2500
-104 &lt;= nums[i] &lt;= 104</p><p>进阶：
你可以设计时间复杂度为 O(n2) 的解决方案吗？
你能将算法的时间复杂度降低到 O(n log(n)) 吗?</p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="思路（动态规划二分查找）"></a>思路（动态规划+二分查找）<a class="hash-link" href="#思路（动态规划二分查找）" title="Direct link to heading">#</a></h2><p>LIS：Longest Increasing Subset</p><ul><li>对于输入序列中的每个元素 X，分别找出找出以 X 结尾的 LIS，其中长度最长的，就是我们要找的最终 LIS</li><li>为什么关注结尾？因为结尾决定了 LIS 所能有的最大值</li><li>使其成为一个递增的数组，记录能形成 LIS 的所有元素</li><li>一边遍历所有元素一边更新数组<ul><li>两种可能：<ol><li><code>nums[i]</code> 比数组内所有元素都大 --&gt; 它可以被放在 LIS 的末尾 --&gt; append 一下，并且 LIS 的长度加 1</li><li>如果<code>dp[i - 1] &lt; nums[i] &lt;= dp[i]</code>，说明它需要替换大于等于 x 的<code>dp[i]</code>数字，以保证数组是一个递增的序列 --&gt; 更新<code>dp[i]</code></li></ol></li></ul></li><li>我们可以通过<strong>二分查找</strong>，找到数组中需要被更新的那个数</li></ul><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly java"><div tabindex="0" class="prism-code language-java codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  public int lengthOfLIS(int[] nums) {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      // 对于输入序列中的每个元素X，分别找出找出以X结尾的LIS，其中长度最长的，就是我们要找的最终LIS</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      int[] dp = new int[nums.length];</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      int size = 0;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      // 新字符要么取代旧字符，要么加在dp末尾(i == size; size++;)</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      for (int i: nums){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          int j = 0, k = size;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          while (j != k){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              int mid = j + (k - j)/2;  // 找到被取代的字符的下标</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              if (dp[mid] &lt; i){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  j = mid + 1;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              } else {</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">                  k = mid;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          dp[j] = i;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          if (j == size){</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">              size++;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">          }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      }</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      return size;</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>执行用时：4 ms, 在所有 Java 提交中击败了 84.11%的用户
内存消耗：37.8 MB, 在所有 Java 提交中击败了 91.22%的用户
心得：</p><ul><li>这道题是很经典的字符串类动态规划题目，顺便复习了一下动态规划代码模板；</li><li>读题要仔细一点，把样例琢磨透了再开始写代码；</li><li>勤能补拙。</li></ul><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="debug"></a>Debug<a class="hash-link" href="#debug" title="Direct link to heading">#</a></h4><p>Binary search 时<code>mid</code>和<code>dp[i]</code>比较......不是和<code>nums[i]</code>！</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="代码优化"></a>代码优化<a class="hash-link" href="#代码优化" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly cpp"><div tabindex="0" class="prism-code language-cpp codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">class</span><span class="token plain"> </span><span class="token class-name" style="color:rgb(255, 203, 107)">Solution</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">public</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lengthOfLIS</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">vector</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        vector</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="font-style:italic">int</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">d</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">nums</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">size</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> INT_MAX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">auto</span><span class="token plain"> num </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> nums</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token function" style="color:rgb(130, 170, 255)">lower_bound</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">begin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">end</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> num</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> num</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">lower_bound</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">d</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">begin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">end</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> INT_MAX</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> d</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token function" style="color:rgb(130, 170, 255)">begin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o">Copy</button></div></div><p>执行用时：8 ms, 在所有 C++ 提交中击败了 94.80%的用户
内存消耗：10.2 MB, 在所有 C++ 提交中击败了 62.42%的用户
心得：C++指针变量的妙用 hhhh 绝了绝了！不过空间复杂度还能再优化吗？好奇</p><hr><h3><a aria-hidden="true" tabindex="-1" class="anchor" id="扩展：树状数组解法"></a>扩展：树状数组解法<a class="hash-link" href="#扩展：树状数组解法" title="Direct link to heading">#</a></h3><p><a href="https://blog.csdn.net/FlushHip/article/details/79165701" target="_blank" rel="noopener noreferrer">阅读材料：树状数组简单易懂的详解<em>FlushHip-CSDN 博客</em>树状数组</a></p><p>A <strong>Fenwick tree or binary indexed tree</strong> is a data structure that can efficiently update elements and calculate <strong>prefix sums in a table of numbers</strong>. <a href="https://en.wikipedia.org/wiki/Fenwick_tree" target="_blank" rel="noopener noreferrer">Fenwick tree - Wikipedia</a></p><ul><li><a href="#300-%E6%9C%80%E9%95%BF%E9%80%92%E5%A2%9E%E5%AD%90%E5%BA%8F%E5%88%97">300. 最长递增子序列</a><ul><li><a href="#%E6%80%9D%E8%B7%AF%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E4%BA%8C%E5%88%86%E6%9F%A5%E6%89%BE">思路（动态规划+二分查找）</a><ul><li><a href="#debug">Debug</a></li><li><a href="#%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96">代码优化</a></li><li><a href="#%E6%89%A9%E5%B1%95%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84%E8%A7%A3%E6%B3%95">扩展：树状数组解法</a><ul><li><a href="#time-complexity-in-big-o-notation">Time complexity in big O notation</a></li><li><a href="#description">Description</a></li></ul></li></ul></li></ul></li></ul><p>Create a binary indexed tree for the array [1, 2, 3, 4, 5] by inserting one by one:
<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/dc/BITDemo.gif/440px-BITDemo.gif" alt="440px-BITDemo.gif"></p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="time-complexity-in-big-o-notation"></a>Time complexity in big O notation<a class="hash-link" href="#time-complexity-in-big-o-notation" title="Direct link to heading">#</a></h4><p>Algorithm Average Worst case
Space O(n) O(n)
Search O(logn) O(logn)
Insert O(logn) O(logn)
Delete O(logn) O(logn)</p><h4><a aria-hidden="true" tabindex="-1" class="anchor" id="description"></a>Description<a class="hash-link" href="#description" title="Direct link to heading">#</a></h4><p>Given an index in the array representing a vertex, the index of a vertex&#x27;s parent or child is calculated through bitwise operations on the binary representation of its index. Each element of the array contains the pre-calculated sum of a range of values, and by combining that sum with additional ranges encountered during an upward traversal to the root, the prefix sum is calculated. When a table value is modified, all range sums which contain the modified value are in turn modified during a similar traversal of the tree. The range sums are defined in such a way that both queries and modifications to the table are executed in asymptotically equivalent time (${\displaystyle O(\log n)}$ in the worst case).</p><p>A Fenwick tree is most easily understood by considering a one-based array. <strong>Each element whose index is a power of 2 contains the sum of the first elements.</strong> <strong>Elements whose indices are the sum of two (distinct) powers of 2 contain the sum of the elements since the preceding power of 2.</strong> In general, each element contains the sum of the values since its parent in the tree, and that parent is found by clearing the least-significant bit in the index <code>i</code> <code>i</code></p><p>To find the sum up to any given index, consider the <strong>binary expansion of the index, and add elements which correspond to each 1 bit in the binary form</strong>.</p><p>For example, say one wishes to find the sum of the first eleven values. Eleven is 10112 in binary. This contains three 1 bits, so three elements must be added: 10002, 10102, and 10112. These contain the sums of values 1–8, 9–10, and 11, respectively.</p><p>To modify the eleventh value, the elements which must be modified are 10112, 11002, 100002, and all higher powers of 2 up to the size of the array. These contain the sums of values 11, 9–12, and 1–16, respectively. The maximum number of elements which may need to be updated is limited by the number of bits in the size of the array.</p><p>......</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/shuoO-24/blog-site/tree/main/docs/docs/Dynamic Programming/300. 最长递增子序列.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/Dynamic Programming/leetcode96"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« 96. Unique Binary Search Trees — Medium</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/SQL Notes/sqlintro"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SQL Overview »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#思路（动态规划二分查找）" class="table-of-contents__link">思路（动态规划+二分查找）</a><ul><li><a href="#代码优化" class="table-of-contents__link">代码优化</a></li><li><a href="#扩展：树状数组解法" class="table-of-contents__link">扩展：树状数组解法</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/intro">Start from there</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/SQL Notes/sqlintro">SQL Review Notes</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Dynamic Programming/algointro">Algo Novice</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Computer Architecture/61c_intro">UCB 61C Notes</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/SQL Notes/sqlintro">SQL Review Notes</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/Multivariable Calculus/multcalc_cheatsheet">Multivariable Calculus</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.870f550b.js"></script>
<script src="/assets/js/main.ab0c5401.js"></script>
</body>
</html>